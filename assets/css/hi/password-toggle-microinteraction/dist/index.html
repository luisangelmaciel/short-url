<!DOCTYPE html>
<html lang="es-MX" >
<head>
  <meta charset="UTF-8">
  <title>Password Toggle Microinteraction</title>  <meta name="viewport" content="width=device-width, initial-scale=1"> 

<style>

.input {
  width: 100%;
  max-width: 260px;
  background: white;
  border: 1px solid #D3D9E8;
  border-radius: 4px;
  transition: border 0.2s;
  position: relative;
}
.input:focus-within {
  border-color: #60C1F8;
  outline: none;
}
.input__password, .input__text {
  width: 100%;
  padding: 0.8em;
  padding-right: 2.6em;
  font-size: 16px;
  font-family: "Roboto", sans-serif;
  color: #333;
  background: none;
  border: none;
  border-radius: inherit;
  outline: none;
}
.input__password:hover::-moz-placeholder, .input__text:hover::-moz-placeholder, .input__password:focus::-moz-placeholder, .input__text:focus::-moz-placeholder {
  opacity: 1;
}
.input__password:hover:-ms-input-placeholder, .input__text:hover:-ms-input-placeholder, .input__password:focus:-ms-input-placeholder, .input__text:focus:-ms-input-placeholder {
  opacity: 1;
}
.input__password:hover::placeholder, .input__text:hover::placeholder, .input__password:focus::placeholder, .input__text:focus::placeholder {
  opacity: 1;
}
.input__password::-moz-placeholder, .input__text::-moz-placeholder {
  opacity: 0.7;
  -moz-transition: opacity 0.3s;
  transition: opacity 0.3s;
}
.input__password:-ms-input-placeholder, .input__text:-ms-input-placeholder {
  opacity: 0.7;
  -ms-transition: opacity 0.3s;
  transition: opacity 0.3s;
}
.input__password::placeholder, .input__text::placeholder {
  opacity: 0.7;
  transition: opacity 0.3s;
}
.input__text {
  transform: scaleY(0);
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
}
.input__icon {
  position: absolute;
  top: 33%;
  right: 0.7em;
}

#eye {
  width: 20px;
  cursor: none;
  overflow: visible;
}

#hover {
  display: inline-block;
  cursor: none;
}
#hover:hover #cursor {
  display: block;
}
#hover::before {
  content: "";
  position: absolute;
  top: -3em;
  bottom: -3em;
  left: -2.5em;
  right: -4em;
}

#cursor {
  display: none;
  width: 38px;
  height: 38px;
  position: fixed;
  left: -8px;
  top: -6px;
  pointer-events: none;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
}  
</style>


<div class='input'>
  <input id='field' class='input__password' type='password' placeholder='Password'/>
  <input id='reveal' class='input__text' type='text' placeholder='Password'/>

  <div id='hover' class='input__icon'>
    <svg id='eye' viewBox="0 0 40 30.3735" fill="none">
      <defs>
        <clipPath id='eye-clip'>
          <use href='#eye-ball'/>
        </clipPath>

        <g id='expressions'>
          <path data-expression='eye.default' d="M20.7154 8.21619C13.382 8.21619 6.90509 12.4081 3.02124 18.801C6.9258 25.0049 13.3058 29.0496 20.5104 29.0496C27.8437 29.0496 34.3142 24.8577 38.1981 18.4647C34.2935 12.2612 27.9197 8.21619 20.7154 8.21619Z"/>

          <path data-expression='eye.closed' d="M20.7154 28.5C13.382 28.5 9.36268 25.5 3.02124 18.801C6.9258 25.0049 13.3058 29.0496 20.5104 29.0496C27.8437 29.0496 34.3142 24.8577 38.1981 18.4648C33 24.4846 27.9197 28.5 20.7154 28.5Z"/>
        </g>
      </defs>

      <path id='eye-ball' stroke="#B2C5CC" stroke-width="2.656" stroke-linejoin="round" d="M20.7154 8.21619C13.382 8.21619 6.90509 12.4081 3.02124 18.801C6.9258 25.0049 13.3058 29.0496 20.5104 29.0496C27.8437 29.0496 34.3142 24.8577 38.1981 18.4647C34.2935 12.2612 27.9197 8.21619 20.7154 8.21619Z"/>

      <g style="clip-path: url(#eye-clip)">
          <path id='eye-pupil'  fill="#B2C5CC" d="M27.678 18.7351C27.6785 19.6495 27.4987 20.555 27.1491 21.3999C26.7995 22.2448 26.2868 23.0126 25.6404 23.6593C24.994 24.3061 24.2265 24.8191 23.3818 25.1691C22.537 25.5192 21.6316 25.6993 20.7172 25.6993C19.8028 25.6993 18.8974 25.5192 18.0526 25.1691C17.2079 24.8191 16.4404 24.3061 15.7939 23.6593C15.1475 23.0126 14.6349 22.2448 14.2852 21.3999C13.9356 20.555 13.7559 19.6495 13.7563 18.7351C13.7559 17.8207 13.9356 16.9152 14.2852 16.0703C14.6349 15.2253 15.1475 14.4576 15.7939 13.8109C16.4404 13.1641 17.2079 12.6511 18.0526 12.3011C18.8974 11.951 19.8028 11.7709 20.7172 11.7709C21.6316 11.7709 22.537 11.951 23.3818 12.3011C24.2265 12.6511 24.994 13.1641 25.6404 13.8109C26.2868 14.4576 26.7995 15.2253 27.1491 16.0703C27.4987 16.9152 27.6785 17.8207 27.678 18.7351V18.7351Z"/>
      </g>

      <path id='eye-brow' stroke="#BFCFD5" stroke-linecap="square" stroke-width="3.4149" d="M2.40698 9.18262C2.40698 9.18262 8.45352 1.71149 20.6996 1.71149C32.9456 1.71149 38.9921 9.18262 38.9921 9.18262"/>
    </svg>

    <svg id='cursor' viewBox="0 0 35 35">
      <g fill="none" fill-rule="evenodd">
        <path fill="#FFF" d="M0 0H35V35H0z" opacity=".01"/>
        <path fill="#FFF" d="M13.3315,21.3799 C13.0475,21.0209 12.7025,20.2869 12.0885,19.3959 C11.7405,18.8919 10.8775,17.9429 10.6205,17.4609 C10.3975,17.0349 10.4215,16.8439 10.4745,16.4909 C10.5685,15.8629 11.2125,15.3739 11.8995,15.4399 C12.4185,15.4889 12.8585,15.8319 13.2545,16.1559 C13.4935,16.3509 13.7875,16.7299 13.9645,16.9439 C14.1275,17.1399 14.1675,17.2209 14.3415,17.4529 C14.5715,17.7599 14.6435,17.9119 14.5555,17.5739 C14.4845,17.0779 14.3685,16.2309 14.2005,15.4819 C14.0725,14.9139 14.0415,14.8249 13.9195,14.3889 C13.7905,13.9249 13.7245,13.5999 13.6035,13.1079 C13.5195,12.7599 13.3685,12.0489 13.3275,11.6489 C13.2705,11.1019 13.2405,10.2099 13.5915,9.7999 C13.8665,9.4789 14.4975,9.3819 14.8885,9.5799 C15.4005,9.8389 15.6915,10.5829 15.8245,10.8799 C16.0635,11.4139 16.2115,12.0309 16.3405,12.8409 C16.5045,13.8719 16.8065,15.3029 16.8165,15.6039 C16.8405,15.2349 16.7485,14.4579 16.8125,14.1039 C16.8705,13.7829 17.1405,13.4099 17.4785,13.3089 C17.7645,13.2239 18.0995,13.1929 18.3945,13.2539 C18.7075,13.3179 19.0375,13.5419 19.1605,13.7529 C19.5225,14.3769 19.5295,15.6519 19.5445,15.5839 C19.6305,15.2079 19.6155,14.3549 19.8285,13.9999 C19.9685,13.7659 20.3255,13.5549 20.5155,13.5209 C20.8095,13.4689 21.1705,13.4529 21.4795,13.5129 C21.7285,13.5619 22.0655,13.8579 22.1565,13.9999 C22.3745,14.3439 22.4985,15.3169 22.5355,15.6579 C22.5505,15.7989 22.6095,15.2659 22.8285,14.9219 C23.2345,14.2829 24.6715,14.1589 24.7265,15.5609 C24.7515,16.2149 24.7465,16.1849 24.7465,16.6249 C24.7465,17.1419 24.7345,17.4529 24.7065,17.8269 C24.6755,18.2269 24.5895,19.1309 24.4645,19.5689 C24.3785,19.8699 24.0935,20.5469 23.8125,20.9529 C23.8125,20.9529 22.7385,22.2029 22.6215,22.7659 C22.5035,23.3279 22.5425,23.3319 22.5195,23.7309 C22.4965,24.1289 22.6405,24.6529 22.6405,24.6529 C22.6405,24.6529 21.8385,24.7569 21.4065,24.6879 C21.0155,24.6249 20.5315,23.8469 20.4065,23.6089 C20.2345,23.2809 19.8675,23.3439 19.7245,23.5859 C19.4995,23.9689 19.0155,24.6559 18.6735,24.6989 C18.0055,24.7829 16.6195,24.7299 15.5345,24.7189 C15.5345,24.7189 15.7195,23.7079 15.3075,23.3609 C15.0025,23.1019 14.4775,22.5769 14.1635,22.3009 L13.3315,21.3799 Z"/>
        <path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width=".75" d="M13.3315,21.3799 C13.0475,21.0209 12.7025,20.2869 12.0885,19.3959 C11.7405,18.8919 10.8775,17.9429 10.6205,17.4609 C10.3975,17.0349 10.4215,16.8439 10.4745,16.4909 C10.5685,15.8629 11.2125,15.3739 11.8995,15.4399 C12.4185,15.4889 12.8585,15.8319 13.2545,16.1559 C13.4935,16.3509 13.7875,16.7299 13.9645,16.9439 C14.1275,17.1399 14.1675,17.2209 14.3415,17.4529 C14.5715,17.7599 14.6435,17.9119 14.5555,17.5739 C14.4845,17.0779 14.3685,16.2309 14.2005,15.4819 C14.0725,14.9139 14.0415,14.8249 13.9195,14.3889 C13.7905,13.9249 13.7245,13.5999 13.6035,13.1079 C13.5195,12.7599 13.3685,12.0489 13.3275,11.6489 C13.2705,11.1019 13.2405,10.2099 13.5915,9.7999 C13.8665,9.4789 14.4975,9.3819 14.8885,9.5799 C15.4005,9.8389 15.6915,10.5829 15.8245,10.8799 C16.0635,11.4139 16.2115,12.0309 16.3405,12.8409 C16.5045,13.8719 16.8065,15.3029 16.8165,15.6039 C16.8405,15.2349 16.7485,14.4579 16.8125,14.1039 C16.8705,13.7829 17.1405,13.4099 17.4785,13.3089 C17.7645,13.2239 18.0995,13.1929 18.3945,13.2539 C18.7075,13.3179 19.0375,13.5419 19.1605,13.7529 C19.5225,14.3769 19.5295,15.6519 19.5445,15.5839 C19.6305,15.2079 19.6155,14.3549 19.8285,13.9999 C19.9685,13.7659 20.3255,13.5549 20.5155,13.5209 C20.8095,13.4689 21.1705,13.4529 21.4795,13.5129 C21.7285,13.5619 22.0655,13.8579 22.1565,13.9999 C22.3745,14.3439 22.4985,15.3169 22.5355,15.6579 C22.5505,15.7989 22.6095,15.2659 22.8285,14.9219 C23.2345,14.2829 24.6715,14.1589 24.7265,15.5609 C24.7515,16.2149 24.7465,16.1849 24.7465,16.6249 C24.7465,17.1419 24.7345,17.4529 24.7065,17.8269 C24.6755,18.2269 24.5895,19.1309 24.4645,19.5689 C24.3785,19.8699 24.0935,20.5469 23.8125,20.9529 C23.8125,20.9529 22.7385,22.2029 22.6215,22.7659 C22.5035,23.3279 22.5425,23.3319 22.5195,23.7309 C22.4965,24.1289 22.6405,24.6529 22.6405,24.6529 C22.6405,24.6529 21.8385,24.7569 21.4065,24.6879 C21.0155,24.6249 20.5315,23.8469 20.4065,23.6089 C20.2345,23.2809 19.8675,23.3439 19.7245,23.5859 C19.4995,23.9689 19.0155,24.6559 18.6735,24.6989 C18.0055,24.7829 16.6195,24.7299 15.5345,24.7189 C15.5345,24.7189 15.7195,23.7079 15.3075,23.3609 C15.0025,23.1019 14.4775,22.5769 14.1635,22.3009 L13.3315,21.3799 L13.3315,21.3799 Z"/>
        <path stroke="#000" stroke-linecap="round" stroke-width=".75" d="M21.5664 21.7344L21.5664 18.2754M19.5508 21.7461L19.5348 18.2731M17.5547 18.3047L17.5757 21.7307"/>
      </g>
    </svg>
  </div>
</div>

  <script>/*
    * anime.js v3.2.1
    * (c) 2020 Julian Garnier
    * Released under the MIT license
    * animejs.com
    * https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js
    */
   
   !function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):n.anime=e()}(this,function(){"use strict";var n={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},e={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},t=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],r={CSS:{},springs:{}};function a(n,e,t){return Math.min(Math.max(n,e),t)}function o(n,e){return n.indexOf(e)>-1}function u(n,e){return n.apply(null,e)}var i={arr:function(n){return Array.isArray(n)},obj:function(n){return o(Object.prototype.toString.call(n),"Object")},pth:function(n){return i.obj(n)&&n.hasOwnProperty("totalLength")},svg:function(n){return n instanceof SVGElement},inp:function(n){return n instanceof HTMLInputElement},dom:function(n){return n.nodeType||i.svg(n)},str:function(n){return"string"==typeof n},fnc:function(n){return"function"==typeof n},und:function(n){return void 0===n},nil:function(n){return i.und(n)||null===n},hex:function(n){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(n)},rgb:function(n){return/^rgb/.test(n)},hsl:function(n){return/^hsl/.test(n)},col:function(n){return i.hex(n)||i.rgb(n)||i.hsl(n)},key:function(t){return!n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&"targets"!==t&&"keyframes"!==t}};function c(n){var e=/\(([^)]+)\)/.exec(n);return e?e[1].split(",").map(function(n){return parseFloat(n)}):[]}function s(n,e){var t=c(n),o=a(i.und(t[0])?1:t[0],.1,100),u=a(i.und(t[1])?100:t[1],.1,100),s=a(i.und(t[2])?10:t[2],.1,100),f=a(i.und(t[3])?0:t[3],.1,100),l=Math.sqrt(u/o),d=s/(2*Math.sqrt(u*o)),p=d<1?l*Math.sqrt(1-d*d):0,v=1,h=d<1?(d*l-f)/p:-f+l;function g(n){var t=e?e*n/1e3:n;return t=d<1?Math.exp(-t*d*l)*(v*Math.cos(p*t)+h*Math.sin(p*t)):(v+h*t)*Math.exp(-t*l),0===n||1===n?n:1-t}return e?g:function(){var e=r.springs[n];if(e)return e;for(var t=0,a=0;;)if(1===g(t+=1/6)){if(++a>=16)break}else a=0;var o=t*(1/6)*1e3;return r.springs[n]=o,o}}function f(n){return void 0===n&&(n=10),function(e){return Math.ceil(a(e,1e-6,1)*n)*(1/n)}}var l,d,p=function(){var n=11,e=1/(n-1);function t(n,e){return 1-3*e+3*n}function r(n,e){return 3*e-6*n}function a(n){return 3*n}function o(n,e,o){return((t(e,o)*n+r(e,o))*n+a(e))*n}function u(n,e,o){return 3*t(e,o)*n*n+2*r(e,o)*n+a(e)}return function(t,r,a,i){if(0<=t&&t<=1&&0<=a&&a<=1){var c=new Float32Array(n);if(t!==r||a!==i)for(var s=0;s<n;++s)c[s]=o(s*e,t,a);return function(n){return t===r&&a===i?n:0===n||1===n?n:o(f(n),r,i)}}function f(r){for(var i=0,s=1,f=n-1;s!==f&&c[s]<=r;++s)i+=e;var l=i+(r-c[--s])/(c[s+1]-c[s])*e,d=u(l,t,a);return d>=.001?function(n,e,t,r){for(var a=0;a<4;++a){var i=u(e,t,r);if(0===i)return e;e-=(o(e,t,r)-n)/i}return e}(r,l,t,a):0===d?l:function(n,e,t,r,a){for(var u,i,c=0;(u=o(i=e+(t-e)/2,r,a)-n)>0?t=i:e=i,Math.abs(u)>1e-7&&++c<10;);return i}(r,i,i+e,t,a)}}}(),v=(l={linear:function(){return function(n){return n}}},d={Sine:function(){return function(n){return 1-Math.cos(n*Math.PI/2)}},Circ:function(){return function(n){return 1-Math.sqrt(1-n*n)}},Back:function(){return function(n){return n*n*(3*n-2)}},Bounce:function(){return function(n){for(var e,t=4;n<((e=Math.pow(2,--t))-1)/11;);return 1/Math.pow(4,3-t)-7.5625*Math.pow((3*e-2)/22-n,2)}},Elastic:function(n,e){void 0===n&&(n=1),void 0===e&&(e=.5);var t=a(n,1,10),r=a(e,.1,2);return function(n){return 0===n||1===n?n:-t*Math.pow(2,10*(n-1))*Math.sin((n-1-r/(2*Math.PI)*Math.asin(1/t))*(2*Math.PI)/r)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach(function(n,e){d[n]=function(){return function(n){return Math.pow(n,e+2)}}}),Object.keys(d).forEach(function(n){var e=d[n];l["easeIn"+n]=e,l["easeOut"+n]=function(n,t){return function(r){return 1-e(n,t)(1-r)}},l["easeInOut"+n]=function(n,t){return function(r){return r<.5?e(n,t)(2*r)/2:1-e(n,t)(-2*r+2)/2}},l["easeOutIn"+n]=function(n,t){return function(r){return r<.5?(1-e(n,t)(1-2*r))/2:(e(n,t)(2*r-1)+1)/2}}}),l);function h(n,e){if(i.fnc(n))return n;var t=n.split("(")[0],r=v[t],a=c(n);switch(t){case"spring":return s(n,e);case"cubicBezier":return u(p,a);case"steps":return u(f,a);default:return u(r,a)}}function g(n){try{return document.querySelectorAll(n)}catch(n){return}}function m(n,e){for(var t=n.length,r=arguments.length>=2?arguments[1]:void 0,a=[],o=0;o<t;o++)if(o in n){var u=n[o];e.call(r,u,o,n)&&a.push(u)}return a}function y(n){return n.reduce(function(n,e){return n.concat(i.arr(e)?y(e):e)},[])}function b(n){return i.arr(n)?n:(i.str(n)&&(n=g(n)||n),n instanceof NodeList||n instanceof HTMLCollection?[].slice.call(n):[n])}function M(n,e){return n.some(function(n){return n===e})}function x(n){var e={};for(var t in n)e[t]=n[t];return e}function w(n,e){var t=x(n);for(var r in n)t[r]=e.hasOwnProperty(r)?e[r]:n[r];return t}function k(n,e){var t=x(n);for(var r in e)t[r]=i.und(n[r])?e[r]:n[r];return t}function O(n){return i.rgb(n)?(t=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e=n))?"rgba("+t[1]+",1)":e:i.hex(n)?(r=n.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(n,e,t,r){return e+e+t+t+r+r}),a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r),"rgba("+parseInt(a[1],16)+","+parseInt(a[2],16)+","+parseInt(a[3],16)+",1)"):i.hsl(n)?function(n){var e,t,r,a=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(n)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(n),o=parseInt(a[1],10)/360,u=parseInt(a[2],10)/100,i=parseInt(a[3],10)/100,c=a[4]||1;function s(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*(e-n)*t:t<.5?e:t<2/3?n+(e-n)*(2/3-t)*6:n}if(0==u)e=t=r=i;else{var f=i<.5?i*(1+u):i+u-i*u,l=2*i-f;e=s(l,f,o+1/3),t=s(l,f,o),r=s(l,f,o-1/3)}return"rgba("+255*e+","+255*t+","+255*r+","+c+")"}(n):void 0;var e,t,r,a}function C(n){var e=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(n);if(e)return e[1]}function P(n,e){return i.fnc(n)?n(e.target,e.id,e.total):n}function I(n,e){return n.getAttribute(e)}function D(n,e,t){if(M([t,"deg","rad","turn"],C(e)))return e;var a=r.CSS[e+t];if(!i.und(a))return a;var o=document.createElement(n.tagName),u=n.parentNode&&n.parentNode!==document?n.parentNode:document.body;u.appendChild(o),o.style.position="absolute",o.style.width=100+t;var c=100/o.offsetWidth;u.removeChild(o);var s=c*parseFloat(e);return r.CSS[e+t]=s,s}function B(n,e,t){if(e in n.style){var r=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),a=n.style[e]||getComputedStyle(n).getPropertyValue(r)||"0";return t?D(n,a,t):a}}function T(n,e){return i.dom(n)&&!i.inp(n)&&(!i.nil(I(n,e))||i.svg(n)&&n[e])?"attribute":i.dom(n)&&M(t,e)?"transform":i.dom(n)&&"transform"!==e&&B(n,e)?"css":null!=n[e]?"object":void 0}function E(n){if(i.dom(n)){for(var e,t=n.style.transform||"",r=/(\w+)\(([^)]*)\)/g,a=new Map;e=r.exec(t);)a.set(e[1],e[2]);return a}}function F(n,e,t,r){var a,u=o(e,"scale")?1:0+(o(a=e,"translate")||"perspective"===a?"px":o(a,"rotate")||o(a,"skew")?"deg":void 0),i=E(n).get(e)||u;return t&&(t.transforms.list.set(e,i),t.transforms.last=e),r?D(n,i,r):i}function A(n,e,t,r){switch(T(n,e)){case"transform":return F(n,e,r,t);case"css":return B(n,e,t);case"attribute":return I(n,e);default:return n[e]||0}}function N(n,e){var t=/^(\*=|\+=|-=)/.exec(n);if(!t)return n;var r=C(n)||0,a=parseFloat(e),o=parseFloat(n.replace(t[0],""));switch(t[0][0]){case"+":return a+o+r;case"-":return a-o+r;case"*":return a*o+r}}function S(n,e){if(i.col(n))return O(n);if(/\s/g.test(n))return n;var t=C(n),r=t?n.substr(0,n.length-t.length):n;return e?r+e:r}function L(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function j(n){for(var e,t=n.points,r=0,a=0;a<t.numberOfItems;a++){var o=t.getItem(a);a>0&&(r+=L(e,o)),e=o}return r}function q(n){if(n.getTotalLength)return n.getTotalLength();switch(n.tagName.toLowerCase()){case"circle":return o=n,2*Math.PI*I(o,"r");case"rect":return 2*I(a=n,"width")+2*I(a,"height");case"line":return L({x:I(r=n,"x1"),y:I(r,"y1")},{x:I(r,"x2"),y:I(r,"y2")});case"polyline":return j(n);case"polygon":return t=(e=n).points,j(e)+L(t.getItem(t.numberOfItems-1),t.getItem(0))}var e,t,r,a,o}function H(n,e){var t=e||{},r=t.el||function(n){for(var e=n.parentNode;i.svg(e)&&i.svg(e.parentNode);)e=e.parentNode;return e}(n),a=r.getBoundingClientRect(),o=I(r,"viewBox"),u=a.width,c=a.height,s=t.viewBox||(o?o.split(" "):[0,0,u,c]);return{el:r,viewBox:s,x:s[0]/1,y:s[1]/1,w:u,h:c,vW:s[2],vH:s[3]}}function V(n,e,t){function r(t){void 0===t&&(t=0);var r=e+t>=1?e+t:0;return n.el.getPointAtLength(r)}var a=H(n.el,n.svg),o=r(),u=r(-1),i=r(1),c=t?1:a.w/a.vW,s=t?1:a.h/a.vH;switch(n.property){case"x":return(o.x-a.x)*c;case"y":return(o.y-a.y)*s;case"angle":return 180*Math.atan2(i.y-u.y,i.x-u.x)/Math.PI}}function $(n,e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,r=S(i.pth(n)?n.totalLength:n,e)+"";return{original:r,numbers:r.match(t)?r.match(t).map(Number):[0],strings:i.str(n)||e?r.split(t):[]}}function W(n){return m(n?y(i.arr(n)?n.map(b):b(n)):[],function(n,e,t){return t.indexOf(n)===e})}function X(n){var e=W(n);return e.map(function(n,t){return{target:n,id:t,total:e.length,transforms:{list:E(n)}}})}function Y(n,e){var t=x(e);if(/^spring/.test(t.easing)&&(t.duration=s(t.easing)),i.arr(n)){var r=n.length;2===r&&!i.obj(n[0])?n={value:n}:i.fnc(e.duration)||(t.duration=e.duration/r)}var a=i.arr(n)?n:[n];return a.map(function(n,t){var r=i.obj(n)&&!i.pth(n)?n:{value:n};return i.und(r.delay)&&(r.delay=t?0:e.delay),i.und(r.endDelay)&&(r.endDelay=t===a.length-1?e.endDelay:0),r}).map(function(n){return k(n,t)})}function Z(n,e){var t=[],r=e.keyframes;for(var a in r&&(e=k(function(n){for(var e=m(y(n.map(function(n){return Object.keys(n)})),function(n){return i.key(n)}).reduce(function(n,e){return n.indexOf(e)<0&&n.push(e),n},[]),t={},r=function(r){var a=e[r];t[a]=n.map(function(n){var e={};for(var t in n)i.key(t)?t==a&&(e.value=n[t]):e[t]=n[t];return e})},a=0;a<e.length;a++)r(a);return t}(r),e)),e)i.key(a)&&t.push({name:a,tweens:Y(e[a],n)});return t}function G(n,e){var t;return n.tweens.map(function(r){var a=function(n,e){var t={};for(var r in n){var a=P(n[r],e);i.arr(a)&&1===(a=a.map(function(n){return P(n,e)})).length&&(a=a[0]),t[r]=a}return t.duration=parseFloat(t.duration),t.delay=parseFloat(t.delay),t}(r,e),o=a.value,u=i.arr(o)?o[1]:o,c=C(u),s=A(e.target,n.name,c,e),f=t?t.to.original:s,l=i.arr(o)?o[0]:f,d=C(l)||C(s),p=c||d;return i.und(u)&&(u=f),a.from=$(l,p),a.to=$(N(u,l),p),a.start=t?t.end:0,a.end=a.start+a.delay+a.duration+a.endDelay,a.easing=h(a.easing,a.duration),a.isPath=i.pth(o),a.isPathTargetInsideSVG=a.isPath&&i.svg(e.target),a.isColor=i.col(a.from.original),a.isColor&&(a.round=1),t=a,a})}var Q={css:function(n,e,t){return n.style[e]=t},attribute:function(n,e,t){return n.setAttribute(e,t)},object:function(n,e,t){return n[e]=t},transform:function(n,e,t,r,a){if(r.list.set(e,t),e===r.last||a){var o="";r.list.forEach(function(n,e){o+=e+"("+n+") "}),n.style.transform=o}}};function z(n,e){X(n).forEach(function(n){for(var t in e){var r=P(e[t],n),a=n.target,o=C(r),u=A(a,t,o,n),i=N(S(r,o||C(u)),u),c=T(a,t);Q[c](a,t,i,n.transforms,!0)}})}function _(n,e){return m(y(n.map(function(n){return e.map(function(e){return function(n,e){var t=T(n.target,e.name);if(t){var r=G(e,n),a=r[r.length-1];return{type:t,property:e.name,animatable:n,tweens:r,duration:a.end,delay:r[0].delay,endDelay:a.endDelay}}}(n,e)})})),function(n){return!i.und(n)})}function R(n,e){var t=n.length,r=function(n){return n.timelineOffset?n.timelineOffset:0},a={};return a.duration=t?Math.max.apply(Math,n.map(function(n){return r(n)+n.duration})):e.duration,a.delay=t?Math.min.apply(Math,n.map(function(n){return r(n)+n.delay})):e.delay,a.endDelay=t?a.duration-Math.max.apply(Math,n.map(function(n){return r(n)+n.duration-n.endDelay})):e.endDelay,a}var J=0;var K=[],U=function(){var n;function e(t){for(var r=K.length,a=0;a<r;){var o=K[a];o.paused?(K.splice(a,1),r--):(o.tick(t),a++)}n=a>0?requestAnimationFrame(e):void 0}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",function(){en.suspendWhenDocumentHidden&&(nn()?n=cancelAnimationFrame(n):(K.forEach(function(n){return n._onDocumentVisibility()}),U()))}),function(){n||nn()&&en.suspendWhenDocumentHidden||!(K.length>0)||(n=requestAnimationFrame(e))}}();function nn(){return!!document&&document.hidden}function en(t){void 0===t&&(t={});var r,o=0,u=0,i=0,c=0,s=null;function f(n){var e=window.Promise&&new Promise(function(n){return s=n});return n.finished=e,e}var l,d,p,v,h,g,y,b,M=(d=w(n,l=t),p=w(e,l),v=Z(p,l),h=X(l.targets),g=_(h,v),y=R(g,p),b=J,J++,k(d,{id:b,children:[],animatables:h,animations:g,duration:y.duration,delay:y.delay,endDelay:y.endDelay}));f(M);function x(){var n=M.direction;"alternate"!==n&&(M.direction="normal"!==n?"normal":"reverse"),M.reversed=!M.reversed,r.forEach(function(n){return n.reversed=M.reversed})}function O(n){return M.reversed?M.duration-n:n}function C(){o=0,u=O(M.currentTime)*(1/en.speed)}function P(n,e){e&&e.seek(n-e.timelineOffset)}function I(n){for(var e=0,t=M.animations,r=t.length;e<r;){var o=t[e],u=o.animatable,i=o.tweens,c=i.length-1,s=i[c];c&&(s=m(i,function(e){return n<e.end})[0]||s);for(var f=a(n-s.start-s.delay,0,s.duration)/s.duration,l=isNaN(f)?1:s.easing(f),d=s.to.strings,p=s.round,v=[],h=s.to.numbers.length,g=void 0,y=0;y<h;y++){var b=void 0,x=s.to.numbers[y],w=s.from.numbers[y]||0;b=s.isPath?V(s.value,l*x,s.isPathTargetInsideSVG):w+l*(x-w),p&&(s.isColor&&y>2||(b=Math.round(b*p)/p)),v.push(b)}var k=d.length;if(k){g=d[0];for(var O=0;O<k;O++){d[O];var C=d[O+1],P=v[O];isNaN(P)||(g+=C?P+C:P+" ")}}else g=v[0];Q[o.type](u.target,o.property,g,u.transforms),o.currentValue=g,e++}}function D(n){M[n]&&!M.passThrough&&M[n](M)}function B(n){var e=M.duration,t=M.delay,l=e-M.endDelay,d=O(n);M.progress=a(d/e*100,0,100),M.reversePlayback=d<M.currentTime,r&&function(n){if(M.reversePlayback)for(var e=c;e--;)P(n,r[e]);else for(var t=0;t<c;t++)P(n,r[t])}(d),!M.began&&M.currentTime>0&&(M.began=!0,D("begin")),!M.loopBegan&&M.currentTime>0&&(M.loopBegan=!0,D("loopBegin")),d<=t&&0!==M.currentTime&&I(0),(d>=l&&M.currentTime!==e||!e)&&I(e),d>t&&d<l?(M.changeBegan||(M.changeBegan=!0,M.changeCompleted=!1,D("changeBegin")),D("change"),I(d)):M.changeBegan&&(M.changeCompleted=!0,M.changeBegan=!1,D("changeComplete")),M.currentTime=a(d,0,e),M.began&&D("update"),n>=e&&(u=0,M.remaining&&!0!==M.remaining&&M.remaining--,M.remaining?(o=i,D("loopComplete"),M.loopBegan=!1,"alternate"===M.direction&&x()):(M.paused=!0,M.completed||(M.completed=!0,D("loopComplete"),D("complete"),!M.passThrough&&"Promise"in window&&(s(),f(M)))))}return M.reset=function(){var n=M.direction;M.passThrough=!1,M.currentTime=0,M.progress=0,M.paused=!0,M.began=!1,M.loopBegan=!1,M.changeBegan=!1,M.completed=!1,M.changeCompleted=!1,M.reversePlayback=!1,M.reversed="reverse"===n,M.remaining=M.loop,r=M.children;for(var e=c=r.length;e--;)M.children[e].reset();(M.reversed&&!0!==M.loop||"alternate"===n&&1===M.loop)&&M.remaining++,I(M.reversed?M.duration:0)},M._onDocumentVisibility=C,M.set=function(n,e){return z(n,e),M},M.tick=function(n){i=n,o||(o=i),B((i+(u-o))*en.speed)},M.seek=function(n){B(O(n))},M.pause=function(){M.paused=!0,C()},M.play=function(){M.paused&&(M.completed&&M.reset(),M.paused=!1,K.push(M),C(),U())},M.reverse=function(){x(),M.completed=!M.reversed,C()},M.restart=function(){M.reset(),M.play()},M.remove=function(n){rn(W(n),M)},M.reset(),M.autoplay&&M.play(),M}function tn(n,e){for(var t=e.length;t--;)M(n,e[t].animatable.target)&&e.splice(t,1)}function rn(n,e){var t=e.animations,r=e.children;tn(n,t);for(var a=r.length;a--;){var o=r[a],u=o.animations;tn(n,u),u.length||o.children.length||r.splice(a,1)}t.length||r.length||e.pause()}return en.version="3.2.1",en.speed=1,en.suspendWhenDocumentHidden=!0,en.running=K,en.remove=function(n){for(var e=W(n),t=K.length;t--;)rn(e,K[t])},en.get=A,en.set=z,en.convertPx=D,en.path=function(n,e){var t=i.str(n)?g(n)[0]:n,r=e||100;return function(n){return{property:n,el:t,svg:H(t),totalLength:q(t)*(r/100)}}},en.setDashoffset=function(n){var e=q(n);return n.setAttribute("stroke-dasharray",e),e},en.stagger=function(n,e){void 0===e&&(e={});var t=e.direction||"normal",r=e.easing?h(e.easing):null,a=e.grid,o=e.axis,u=e.from||0,c="first"===u,s="center"===u,f="last"===u,l=i.arr(n),d=l?parseFloat(n[0]):parseFloat(n),p=l?parseFloat(n[1]):0,v=C(l?n[1]:n)||0,g=e.start||0+(l?d:0),m=[],y=0;return function(n,e,i){if(c&&(u=0),s&&(u=(i-1)/2),f&&(u=i-1),!m.length){for(var h=0;h<i;h++){if(a){var b=s?(a[0]-1)/2:u%a[0],M=s?(a[1]-1)/2:Math.floor(u/a[0]),x=b-h%a[0],w=M-Math.floor(h/a[0]),k=Math.sqrt(x*x+w*w);"x"===o&&(k=-x),"y"===o&&(k=-w),m.push(k)}else m.push(Math.abs(u-h));y=Math.max.apply(Math,m)}r&&(m=m.map(function(n){return r(n/y)*y})),"reverse"===t&&(m=m.map(function(n){return o?n<0?-1*n:-n:Math.abs(y-n)}))}return g+(l?(p-d)/y:d)*(Math.round(100*m[e])/100)+v}},en.timeline=function(n){void 0===n&&(n={});var t=en(n);return t.duration=0,t.add=function(r,a){var o=K.indexOf(t),u=t.children;function c(n){n.passThrough=!0}o>-1&&K.splice(o,1);for(var s=0;s<u.length;s++)c(u[s]);var f=k(r,w(e,n));f.targets=f.targets||n.targets;var l=t.duration;f.autoplay=!1,f.direction=t.direction,f.timelineOffset=i.und(a)?l:N(a,l),c(t),t.seek(f.timelineOffset);var d=en(f);c(d),u.push(d);var p=R(u,n);return t.delay=p.delay,t.endDelay=p.endDelay,t.duration=p.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},en.easing=h,en.penner=v,en.random=function(n,e){return Math.floor(Math.random()*(e-n+1))+n},en});</script>
  <script>
    const get = id => document.getElementById(id);

const constrain = (val, min, max) => Math.max(min, Math.min(max, val));
const random = (min, max) => Math.random() * (max - min + 1) + min;
const toDegree = rad => rad * (180 / Math.PI);

/* DEFINITIONS */
const parent = get('eye');
const eyeball = get('eye-ball');
const pupil = get('eye-pupil');
const brow = get('eye-brow');

const cursor = get('cursor');
const hover = get('hover');
const input = get('field');
const reveal = get('reveal');

const expressions = getEyeExpressions();

/**
 * Parses and returns eyeball SVG d-values into a convient object
 * @returns {Object} — an obj containing obj[expressionName] = pathData
 */
function getEyeExpressions() {
  const expressions = get('expressions').children;
  const obj = Object.fromEntries(
  Array.from(expressions).
  map(exp => {
    const key = exp.dataset.expression;
    const val = exp.getAttribute('d');
    return [key, val];
  }));


  return obj;
}

/**
 * Sets the expression of the eyeball
 * @param {String} — expression (e.g. 'eye.blink')
 * @param {Object} — Anime.js animation options
 * @returns {Object} — an obj containing [expressionName, pathData] key-value pairs
 */
function setEyeExpression(exp, options) {
  anime({
    targets: eyeball,
    d: [{ value: expressions[exp] }],
    easing: 'easeOutQuad',
    duration: 0,
    ...options });

}

/**
 * Gets the center-point of an SVG element
 * @param {SVGElement} — SVG DOM element
 * @returns {Object} — the center [x, y] coordinates of an SVG element
 */
function getSVGCenterPoint(el) {
  const bbox = el.getBoundingClientRect();
  const cx = bbox.left + bbox.width / 2 - 10;
  const cy = bbox.top + bbox.height / 2 - 10;
  return [cx, cy];
}

/* EYEBALL METHODS */
function blink() {
  setEyeExpression('eye.default');
  setEyeExpression('eye.closed', {
    direction: 'alternate',
    duration: 50 });

}

function lookToPosition(x, y) {
  anime({
    targets: pupil,
    translateX: x,
    translateY: y,
    easing: 'easeOutQuad',
    duration: 50 });

}

function moveToPosition(x, y) {
  anime({
    targets: parent,
    translateX: x,
    translateY: y,
    easing: 'easeOutQuad',
    duration: 50 });

}

/* EVENT LISTENERS */
let closed = false;
let focused = false;

hover.addEventListener('mouseenter', () => {
  if (!closed) blink();
});

hover.addEventListener('mouseleave', () => {
  if (!closed) blink();
  if (!focused) {
    lookToPosition(0, 0);
    moveToPosition(0, 0);
  }
});

hover.addEventListener('mousemove', e => {
  const [cx, cy] = getSVGCenterPoint(eyeball);
  const mx = e.pageX;
  const my = e.pageY;

  const dist = Math.sqrt((mx - cx) ** 2 + (my - cy) ** 2);
  const rot = Math.atan2(mx - cx, my - cy) * -1;

  // move the pointer around eye
  anime({
    targets: cursor,
    display: 'block',
    translateX: mx,
    translateY: my,
    rotate: toDegree(rot),
    duration: 0 });


  if (!focused && !closed) {
    moveToPosition(
    -1 * (mx - cx) / dist,
    -1 * (my - cy) / dist);


    lookToPosition(
    constrain((mx - cx) / 15, -8, 7),
    constrain((my - cy) / 20, -4, 4));

  }
});

hover.addEventListener('click', () => {
  const [cx, cy] = getSVGCenterPoint(eyeball);

  // pointer poke anim
  anime({
    targets: cursor,
    display: 'block',
    translateX: cx,
    translateY: cy,
    direction: 'alternate',
    easing: 'easeInOutCubic',
    duration: 100 });


  // input password anim
  const inputSwapAnim = anime.timeline({
    autoplay: false,
    easing: 'easeInOutCubic' });


  inputSwapAnim.
  add({
    targets: input,
    scaleY: [1, 0],
    opacity: [1, 0],
    perspective: 1000,
    transformOrigin: '0% 100%',
    duration: 300 }).

  add({
    targets: reveal,
    scaleY: [0, 1],
    opacity: [0, 1],
    perspective: 1000,
    transformOrigin: '0% 0%',
    duration: 300 },
  0);

  closed = !closed;
  if (closed) {
    setEyeExpression('eye.closed', { duration: 100, delay: 80 });
    inputSwapAnim.play();

  } else {
    setEyeExpression('eye.default', { duration: 140, delay: 80 });
    inputSwapAnim.seek(inputSwapAnim.duration * 0.999);
    inputSwapAnim.play();
    inputSwapAnim.reverse();
  }
});

[input, reveal].forEach(el => {
  el.addEventListener('input', e => {
    input.value = reveal.value = e.target.value;

    anime({
      targets: brow,
      translateY: [-6, 0],
      rotate: () => [random(-45, 45), 0],
      transformOrigin: '50% 50%',
      duration: 1000 });

  });
});

input.addEventListener('focus', () => {
  focused = true;
  if (closed) return;
  blink();
  lookToPosition(-8, 0);
});

input.addEventListener('blur', () => {
  focused = false;
  blink();
  lookToPosition(0, 0);
});
  </script>

</body>
</html>
