(function() {
  /*

    Music is by The XX
    @see http://thexx.info

    This is best viewed in Chrome since there is a bug in Safari
    when using getByteFrequencyData with MediaElementAudioSource

    @see https://goo.gl/6WLx1

  */
  var ALPHA, AudioAnalyser, COLORS, MP3_PATH, NUM_BANDS, NUM_PARTICLES, Particle, SCALE, SIZE, SMOOTHING, SPEED, SPIN;

  // Config
  NUM_PARTICLES = 100;

  NUM_BANDS = 512;

  SMOOTHING = 0.2;

  MP3_PATH = 'https://file-examples-com.github.io/uploads/2017/11/file_example_MP3_700KB.mp3';

  SCALE = {
    MIN: 5.0,
    MAX: 180.0
  };

  SPEED = {
    MIN: 0.2,
    MAX: 1.0
  };

  ALPHA = {
    MIN: 0.8,
    MAX: 0.9
  };

  SPIN = {
    MIN: 0.001,
    MAX: 0.005
  };

  SIZE = {
    MIN: 0.5,
    MAX: 1.25
  };

  COLORS = ['#69D2E7', '#1B676B', '#BEF202', '#EBE54D', '#00CDAC', '#1693A5', '#F9D423', '#FF4E50', '#E7204E', '#0CCABA', '#FF006F'];

  AudioAnalyser = (function() {
    // Audio Analyser
    class AudioAnalyser {
      constructor(audio = new Audio(), numBands = 256, smoothing = 0.3) {
        var src;
        this.audio = audio;
        this.numBands = numBands;
        this.smoothing = smoothing;
        
        // construct audio object
        if (typeof this.audio === 'string') {
          src = this.audio;
          this.audio = new Audio();
          this.audio.controls = true;
          this.audio.src = src;
        }
        
        // setup audio context and nodes
        this.context = new AudioAnalyser.AudioContext();
        
        // JavaScriptNode so we can hook onto updates
        this.jsNode = this.context.createJavaScriptNode(2048, 1, 1);
        
        // smoothed analyser with n bins for frequency-domain analysis
        this.analyser = this.context.createAnalyser();
        this.analyser.smoothingTimeConstant = this.smoothing;
        this.analyser.fftSize = this.numBands * 2;
        
        // persistant bands array
        this.bands = new Uint8Array(this.analyser.frequencyBinCount);
        // circumvent http://crbug.com/112368
        this.audio.addEventListener('canplay', () => {
          
          // media source
          this.source = this.context.createMediaElementSource(this.audio);
          // wire up nodes
          this.source.connect(this.analyser);
          this.analyser.connect(this.jsNode);
          this.jsNode.connect(this.context.destination);
          this.source.connect(this.context.destination);
          // update each time the JavaScriptNode is called
          return this.jsNode.onaudioprocess = () => {
            // retreive the data from the first channel
            this.analyser.getByteFrequencyData(this.bands);
            if (!this.audio.paused) {
              return typeof this.onUpdate === "function" ? this.onUpdate(this.bands) : void 0;
            }
          };
        });
      }

      start() {
        return this.audio.play();
      }

      stop() {
        return this.audio.pause();
      }

    };

    AudioAnalyser.AudioContext = self.AudioContext || self.webkitAudioContext;

    AudioAnalyser.enabled = AudioAnalyser.AudioContext != null;

    return AudioAnalyser;

  }).call(this);

  
    // Particle
  Particle = class Particle {
    constructor(x1 = 0, y1 = 0) {
      this.x = x1;
      this.y = y1;
      this.reset();
    }

    reset() {
      this.level = 1 + floor(random(4));
      this.scale = random(SCALE.MIN, SCALE.MAX);
      this.alpha = random(ALPHA.MIN, ALPHA.MAX);
      this.speed = random(SPEED.MIN, SPEED.MAX);
      this.color = random(COLORS);
      this.size = random(SIZE.MIN, SIZE.MAX);
      this.spin = random(SPIN.MAX, SPIN.MAX);
      this.band = floor(random(NUM_BANDS));
      if (random() < 0.5) {
        this.spin = -this.spin;
      }
      this.smoothedScale = 0.0;
      this.smoothedAlpha = 0.0;
      this.decayScale = 0.0;
      this.decayAlpha = 0.0;
      this.rotation = random(TWO_PI);
      return this.energy = 0.0;
    }

    move() {
      this.rotation += this.spin;
      return this.y -= this.speed * this.level;
    }

    draw(ctx) {
      var alpha, power, scale;
      power = exp(this.energy);
      scale = this.scale * power;
      alpha = this.alpha * this.energy * 1.5;
      this.decayScale = max(this.decayScale, scale);
      this.decayAlpha = max(this.decayAlpha, alpha);
      this.smoothedScale += (this.decayScale - this.smoothedScale) * 0.3;
      this.smoothedAlpha += (this.decayAlpha - this.smoothedAlpha) * 0.3;
      this.decayScale *= 0.985;
      this.decayAlpha *= 0.975;
      ctx.save();
      ctx.beginPath();
      ctx.translate(this.x + cos(this.rotation * this.speed) * 250, this.y);
      ctx.rotate(this.rotation);
      ctx.scale(this.smoothedScale * this.level, this.smoothedScale * this.level);
      ctx.moveTo(this.size * 0.5, 0);
      ctx.lineTo(this.size * -0.5, 0);
      ctx.lineWidth = 1;
      ctx.lineCap = 'round';
      ctx.globalAlpha = this.smoothedAlpha / this.level;
      ctx.strokeStyle = this.color;
      ctx.stroke();
      return ctx.restore();
    }

  };

  
  // Sketch
  Sketch.create({
    particles: [],
    setup: function() {
      var analyser, error, i, intro, j, particle, ref, warning, x, y;

      // generate some particles
      for (i = j = 0, ref = NUM_PARTICLES - 1; j <= ref; i = j += 1) {
        x = random(this.width);
        y = random(this.height * 2);
        particle = new Particle(x, y);
        particle.energy = random(particle.band / 256);
        this.particles.push(particle);
      }
      if (AudioAnalyser.enabled) {
        try {
          // setup the audio analyser
          analyser = new AudioAnalyser(MP3_PATH, NUM_BANDS, SMOOTHING);
          // update particles based on fft transformed audio frequencies
          analyser.onUpdate = (bands) => {
            var k, len, ref1, results;
            ref1 = this.particles;
            results = [];
            for (k = 0, len = ref1.length; k < len; k++) {
              particle = ref1[k];
              results.push(particle.energy = bands[particle.band] / 256);
            }
            return results;
          };
          
          // start as soon as the audio is buffered
          analyser.start();
          document.body.appendChild(analyser.audio);
          intro = document.getElementById('intro');
          intro.style.display = 'none';
          
          // bug in Safari 6 when using getByteFrequencyData with MediaElementAudioSource
          // @see https://goo.gl/6WLx1
          if (/Safari/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent)) {
            warning = document.getElementById('warning2');
            return warning.style.display = 'block';
          }
        } catch (error1) {
          error = error1;
        }
      } else {
        
        // Web Audio API not detected
        warning = document.getElementById('warning1');
        return warning.style.display = 'block';
      }
    },
    draw: function() {
      var j, len, particle, ref, results;
      this.globalCompositeOperation = 'lighter';
      ref = this.particles;
      results = [];
      for (j = 0, len = ref.length; j < len; j++) {
        particle = ref[j];
        
        // recycle particles
        if (particle.y < -particle.size * particle.level * particle.scale * 2) {
          particle.reset();
          particle.x = random(this.width);
          particle.y = this.height + particle.size * particle.scale * particle.level;
        }
        particle.move();
        results.push(particle.draw(this));
      }
      return results;
    }
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiPGFub255bW91cz4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBVUc7RUFBQTs7Ozs7Ozs7Ozs7QUFBQSxNQUFBLEtBQUEsRUFBQSxhQUFBLEVBQUEsTUFBQSxFQUFBLFFBQUEsRUFBQSxTQUFBLEVBQUEsYUFBQSxFQUFBLFFBQUEsRUFBQSxLQUFBLEVBQUEsSUFBQSxFQUFBLFNBQUEsRUFBQSxLQUFBLEVBQUEsSUFBQTs7O0VBR0gsYUFBQSxHQUFnQjs7RUFDaEIsU0FBQSxHQUFZOztFQUNaLFNBQUEsR0FBWTs7RUFDWixRQUFBLEdBQVc7O0VBRVgsS0FBQSxHQUFRO0lBQUEsR0FBQSxFQUFLLEdBQUw7SUFBVyxHQUFBLEVBQUs7RUFBaEI7O0VBQ1IsS0FBQSxHQUFRO0lBQUEsR0FBQSxFQUFLLEdBQUw7SUFBWSxHQUFBLEVBQUs7RUFBakI7O0VBQ1IsS0FBQSxHQUFRO0lBQUEsR0FBQSxFQUFLLEdBQUw7SUFBWSxHQUFBLEVBQUs7RUFBakI7O0VBQ1IsSUFBQSxHQUFRO0lBQUEsR0FBQSxFQUFLLEtBQUw7SUFBWSxHQUFBLEVBQUs7RUFBakI7O0VBQ1IsSUFBQSxHQUFRO0lBQUEsR0FBQSxFQUFLLEdBQUw7SUFBWSxHQUFBLEVBQUs7RUFBakI7O0VBRVIsTUFBQSxHQUFTLENBQ1AsU0FETyxFQUVQLFNBRk8sRUFHUCxTQUhPLEVBSVAsU0FKTyxFQUtQLFNBTE8sRUFNUCxTQU5PLEVBT1AsU0FQTyxFQVFQLFNBUk8sRUFTUCxTQVRPLEVBVVAsU0FWTyxFQVdQLFNBWE87O0VBZ0JIOztJQUFOLE1BQUEsY0FBQTtNQUtFLFdBQWEsU0FBVyxJQUFJLEtBQUosQ0FBQSxDQUFYLGFBQW9DLEdBQXBDLGNBQXNELEdBQXRELENBQUE7QUFFZixZQUFBO1FBRmlCLElBQUMsQ0FBQTtRQUFxQixJQUFDLENBQUE7UUFBZ0IsSUFBQyxDQUFBLHNCQUV6RDs7O1FBQ0ksSUFBRyxPQUFPLElBQUMsQ0FBQSxLQUFSLEtBQWlC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ICBNdXNpYyBpcyBieSBUaGUgWFhcbiAgQHNlZSBodHRwOi8vdGhleHguaW5mb1xuXG4gIFRoaXMgaXMgYmVzdCB2aWV3ZWQgaW4gQ2hyb21lIHNpbmNlIHRoZXJlIGlzIGEgYnVnIGluIFNhZmFyaVxuICB3aGVuIHVzaW5nIGdldEJ5dGVGcmVxdWVuY3lEYXRhIHdpdGggTWVkaWFFbGVtZW50QXVkaW9Tb3VyY2VcblxuICBAc2VlIGh0dHBzOi8vZ29vLmdsLzZXTHgxXG5cbiMjI1xuXG4jIENvbmZpZ1xuTlVNX1BBUlRJQ0xFUyA9IDEwMFxuTlVNX0JBTkRTID0gNTEyXG5TTU9PVEhJTkcgPSAwLjJcbk1QM19QQVRIID0gJ2h0dHBzOi8vZmlsZS1leGFtcGxlcy1jb20uZ2l0aHViLmlvL3VwbG9hZHMvMjAxNy8xMS9maWxlX2V4YW1wbGVfTVAzXzcwMEtCLm1wMydcblxuU0NBTEUgPSBNSU46IDUuMCwgIE1BWDogMTgwLjBcblNQRUVEID0gTUlOOiAwLjIsICAgTUFYOiAxLjBcbkFMUEhBID0gTUlOOiAwLjgsICAgTUFYOiAwLjlcblNQSU4gID0gTUlOOiAwLjAwMSwgTUFYOiAwLjAwNVxuU0laRSAgPSBNSU46IDAuNSwgICBNQVg6IDEuMjVcblxuQ09MT1JTID0gW1xuICAnIzY5RDJFNydcbiAgJyMxQjY3NkInXG4gICcjQkVGMjAyJ1xuICAnI0VCRTU0RCdcbiAgJyMwMENEQUMnXG4gICcjMTY5M0E1J1xuICAnI0Y5RDQyMydcbiAgJyNGRjRFNTAnXG4gICcjRTcyMDRFJ1xuICAnIzBDQ0FCQSdcbiAgJyNGRjAwNkYnXG5dXG5cbiMgQXVkaW8gQW5hbHlzZXJcblxuY2xhc3MgQXVkaW9BbmFseXNlclxuICBcbiAgQEF1ZGlvQ29udGV4dDogc2VsZi5BdWRpb0NvbnRleHQgb3Igc2VsZi53ZWJraXRBdWRpb0NvbnRleHRcbiAgQGVuYWJsZWQ6IEBBdWRpb0NvbnRleHQ/XG4gIFxuICBjb25zdHJ1Y3RvcjogKCBAYXVkaW8gPSBuZXcgQXVkaW8oKSwgQG51bUJhbmRzID0gMjU2LCBAc21vb3RoaW5nID0gMC4zICkgLT5cbiAgXG4gICAgIyBjb25zdHJ1Y3QgYXVkaW8gb2JqZWN0XG4gICAgaWYgdHlwZW9mIEBhdWRpbyBpcyAnc3RyaW5nJ1xuICAgICAgXG4gICAgICBzcmMgPSBAYXVkaW9cbiAgICAgIEBhdWRpbyA9IG5ldyBBdWRpbygpXG4gICAgICBAYXVkaW8uY29udHJvbHMgPSB5ZXNcbiAgICAgIEBhdWRpby5zcmMgPSBzcmNcbiAgXG4gICAgIyBzZXR1cCBhdWRpbyBjb250ZXh0IGFuZCBub2Rlc1xuICAgIEBjb250ZXh0ID0gbmV3IEF1ZGlvQW5hbHlzZXIuQXVkaW9Db250ZXh0KClcbiAgICBcbiAgICAjIEphdmFTY3JpcHROb2RlIHNvIHdlIGNhbiBob29rIG9udG8gdXBkYXRlc1xuICAgIEBqc05vZGUgPSBAY29udGV4dC5jcmVhdGVKYXZhU2NyaXB0Tm9kZSAyMDQ4LCAxLCAxXG4gICAgXG4gICAgIyBzbW9vdGhlZCBhbmFseXNlciB3aXRoIG4gYmlucyBmb3IgZnJlcXVlbmN5LWRvbWFpbiBhbmFseXNpc1xuICAgIEBhbmFseXNlciA9IEBjb250ZXh0LmNyZWF0ZUFuYWx5c2VyKClcbiAgICBAYW5hbHlzZXIuc21vb3RoaW5nVGltZUNvbnN0YW50ID0gQHNtb290aGluZ1xuICAgIEBhbmFseXNlci5mZnRTaXplID0gQG51bUJhbmRzICogMlxuICAgIFxuICAgICMgcGVyc2lzdGFudCBiYW5kcyBhcnJheVxuICAgIEBiYW5kcyA9IG5ldyBVaW50OEFycmF5IEBhbmFseXNlci5mcmVxdWVuY3lCaW5Db3VudFxuXG4gICAgIyBjaXJjdW12ZW50IGh0dHA6Ly9jcmJ1Zy5jb20vMTEyMzY4XG4gICAgQGF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIgJ2NhbnBsYXknLCA9PlxuICAgIFxuICAgICAgIyBtZWRpYSBzb3VyY2VcbiAgICAgIEBzb3VyY2UgPSBAY29udGV4dC5jcmVhdGVNZWRpYUVsZW1lbnRTb3VyY2UgQGF1ZGlvXG5cbiAgICAgICMgd2lyZSB1cCBub2Rlc1xuXG4gICAgICBAc291cmNlLmNvbm5lY3QgQGFuYWx5c2VyXG4gICAgICBAYW5hbHlzZXIuY29ubmVjdCBAanNOb2RlXG5cbiAgICAgIEBqc05vZGUuY29ubmVjdCBAY29udGV4dC5kZXN0aW5hdGlvblxuICAgICAgQHNvdXJjZS5jb25uZWN0IEBjb250ZXh0LmRlc3RpbmF0aW9uXG5cbiAgICAgICMgdXBkYXRlIGVhY2ggdGltZSB0aGUgSmF2YVNjcmlwdE5vZGUgaXMgY2FsbGVkXG4gICAgICBAanNOb2RlLm9uYXVkaW9wcm9jZXNzID0gPT5cblxuICAgICAgICAjIHJldHJlaXZlIHRoZSBkYXRhIGZyb20gdGhlIGZpcnN0IGNoYW5uZWxcbiAgICAgICAgQGFuYWx5c2VyLmdldEJ5dGVGcmVxdWVuY3lEYXRhIEBiYW5kc1xuICAgICAgICBcbiAgICAgICAgIyBmaXJlIGNhbGxiYWNrXG4gICAgICAgIEBvblVwZGF0ZT8gQGJhbmRzIGlmIG5vdCBAYXVkaW8ucGF1c2VkXG4gICAgICAgIFxuICBzdGFydDogLT5cbiAgXG4gICAgQGF1ZGlvLnBsYXkoKVxuICAgIFxuICBzdG9wOiAtPlxuICBcbiAgICBAYXVkaW8ucGF1c2UoKVxuICAgIFxuIyBQYXJ0aWNsZVxuXG5jbGFzcyBQYXJ0aWNsZVxuICBcbiAgY29uc3RydWN0b3I6ICggQHggPSAwLCBAeSA9IDAgKSAtPlxuXG4gICAgQHJlc2V0KClcbiAgICBcbiAgcmVzZXQ6IC0+XG4gIFxuICAgIEBsZXZlbCA9IDEgKyBmbG9vciByYW5kb20gNFxuICAgIEBzY2FsZSA9IHJhbmRvbSBTQ0FMRS5NSU4sIFNDQUxFLk1BWFxuICAgIEBhbHBoYSA9IHJhbmRvbSBBTFBIQS5NSU4sIEFMUEhBLk1BWFxuICAgIEBzcGVlZCA9IHJhbmRvbSBTUEVFRC5NSU4sIFNQRUVELk1BWFxuICAgIEBjb2xvciA9IHJhbmRvbSBDT0xPUlNcbiAgICBAc2l6ZSA9IHJhbmRvbSBTSVpFLk1JTiwgU0laRS5NQVhcbiAgICBAc3BpbiA9IHJhbmRvbSBTUElOLk1BWCwgU1BJTi5NQVhcbiAgICBAYmFuZCA9IGZsb29yIHJhbmRvbSBOVU1fQkFORFNcbiAgICBcbiAgICBpZiByYW5kb20oKSA8IDAuNSB0aGVuIEBzcGluID0gLUBzcGluXG4gICAgXG4gICAgQHNtb290aGVkU2NhbGUgPSAwLjBcbiAgICBAc21vb3RoZWRBbHBoYSA9IDAuMFxuICAgIEBkZWNheVNjYWxlID0gMC4wXG4gICAgQGRlY2F5QWxwaGEgPSAwLjBcbiAgICBAcm90YXRpb24gPSByYW5kb20gVFdPX1BJXG4gICAgQGVuZXJneSA9IDAuMFxuICAgIFxuICBtb3ZlOiAtPlxuICBcbiAgICBAcm90YXRpb24gKz0gQHNwaW5cbiAgICBAeSAtPSBAc3BlZWQgKiBAbGV2ZWxcbiAgICBcbiAgZHJhdzogKCBjdHggKSAtPlxuICAgIFxuICAgIHBvd2VyID0gZXhwIEBlbmVyZ3lcbiAgICBzY2FsZSA9IEBzY2FsZSAqIHBvd2VyXG4gICAgYWxwaGEgPSBAYWxwaGEgKiBAZW5lcmd5ICogMS41XG4gICAgXG4gICAgQGRlY2F5U2NhbGUgPSBtYXggQGRlY2F5U2NhbGUsIHNjYWxlXG4gICAgQGRlY2F5QWxwaGEgPSBtYXggQGRlY2F5QWxwaGEsIGFscGhhXG4gICAgXG4gICAgQHNtb290aGVkU2NhbGUgKz0gKCBAZGVjYXlTY2FsZSAtIEBzbW9vdGhlZFNjYWxlICkgKiAwLjNcbiAgICBAc21vb3RoZWRBbHBoYSArPSAoIEBkZWNheUFscGhhIC0gQHNtb290aGVkQWxwaGEgKSAqIDAuM1xuICAgIFxuICAgIEBkZWNheVNjYWxlICo9IDAuOTg1XG4gICAgQGRlY2F5QWxwaGEgKj0gMC45NzVcbiAgXG4gICAgY3R4LnNhdmUoKVxuICAgIGN0eC5iZWdpblBhdGgoKVxuICAgIGN0eC50cmFuc2xhdGUgQHggKyBjb3MoIEByb3RhdGlvbiAqIEBzcGVlZCApICogMjUwLCBAeVxuICAgIGN0eC5yb3RhdGUgQHJvdGF0aW9uXG4gICAgY3R4LnNjYWxlIEBzbW9vdGhlZFNjYWxlICogQGxldmVsLCBAc21vb3RoZWRTY2FsZSAqIEBsZXZlbFxuICAgIGN0eC5tb3ZlVG8gQHNpemUgKiAwLjUsIDBcbiAgICBjdHgubGluZVRvIEBzaXplICogLTAuNSwgMFxuICAgIGN0eC5saW5lV2lkdGggPSAxXG4gICAgY3R4LmxpbmVDYXAgPSAncm91bmQnXG4gICAgY3R4Lmdsb2JhbEFscGhhID0gQHNtb290aGVkQWxwaGEgLyBAbGV2ZWxcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSBAY29sb3JcbiAgICBjdHguc3Ryb2tlKClcbiAgICBjdHgucmVzdG9yZSgpXG4gICAgXG4jIFNrZXRjaFxuICAgIFxuU2tldGNoLmNyZWF0ZVxuXG4gIHBhcnRpY2xlczogW11cbiAgXG4gIHNldHVwOiAtPlxuICAgIFxuICAgICMgZ2VuZXJhdGUgc29tZSBwYXJ0aWNsZXNcbiAgICBmb3IgaSBpbiBbMC4uTlVNX1BBUlRJQ0xFUy0xXSBieSAxXG4gICAgICBcbiAgICAgIHggPSByYW5kb20gQHdpZHRoXG4gICAgICB5ID0gcmFuZG9tIEBoZWlnaHQgKiAyXG4gICAgICBcbiAgICAgIHBhcnRpY2xlID0gbmV3IFBhcnRpY2xlIHgsIHlcbiAgICAgIHBhcnRpY2xlLmVuZXJneSA9IHJhbmRvbSBwYXJ0aWNsZS5iYW5kIC8gMjU2XG4gICAgICBcbiAgICAgIEBwYXJ0aWNsZXMucHVzaCBwYXJ0aWNsZVxuICAgICAgXG4gICAgaWYgQXVkaW9BbmFseXNlci5lbmFibGVkXG4gICAgICBcbiAgICAgIHRyeVxuXG4gICAgICAgICMgc2V0dXAgdGhlIGF1ZGlvIGFuYWx5c2VyXG4gICAgICAgIGFuYWx5c2VyID0gbmV3IEF1ZGlvQW5hbHlzZXIgTVAzX1BBVEgsIE5VTV9CQU5EUywgU01PT1RISU5HXG5cbiAgICAgICAgIyB1cGRhdGUgcGFydGljbGVzIGJhc2VkIG9uIGZmdCB0cmFuc2Zvcm1lZCBhdWRpbyBmcmVxdWVuY2llc1xuICAgICAgICBhbmFseXNlci5vblVwZGF0ZSA9ICggYmFuZHMgKSA9PiBwYXJ0aWNsZS5lbmVyZ3kgPSBiYW5kc1sgcGFydGljbGUuYmFuZCBdIC8gMjU2IGZvciBwYXJ0aWNsZSBpbiBAcGFydGljbGVzXG4gICAgICAgIFxuICAgICAgICAjIHN0YXJ0IGFzIHNvb24gYXMgdGhlIGF1ZGlvIGlzIGJ1ZmZlcmVkXG4gICAgICAgIGFuYWx5c2VyLnN0YXJ0KCk7XG4gICAgICBcbiAgICAgICAgIyBzaG93IGF1ZGlvIGNvbnRyb2xzXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQgYW5hbHlzZXIuYXVkaW9cbiAgICAgICAgXG4gICAgICAgIGludHJvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgJ2ludHJvJ1xuICAgICAgICBpbnRyby5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG4gICAgICAgIFxuICAgICAgICAjIGJ1ZyBpbiBTYWZhcmkgNiB3aGVuIHVzaW5nIGdldEJ5dGVGcmVxdWVuY3lEYXRhIHdpdGggTWVkaWFFbGVtZW50QXVkaW9Tb3VyY2VcbiAgICAgICAgIyBAc2VlIGh0dHBzOi8vZ29vLmdsLzZXTHgxXG4gICAgICAgIGlmIC9TYWZhcmkvLnRlc3QoIG5hdmlnYXRvci51c2VyQWdlbnQgKSBhbmQgbm90IC9DaHJvbWUvLnRlc3QoIG5hdmlnYXRvci51c2VyQWdlbnQgKVxuICAgICAgICBcbiAgICAgICAgICB3YXJuaW5nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgJ3dhcm5pbmcyJ1xuICAgICAgICAgIHdhcm5pbmcuc3R5bGUuZGlzcGxheSA9ICdibG9jaydcblxuICAgICAgY2F0Y2ggZXJyb3JcbiAgICAgIFxuICAgIGVsc2VcbiAgICAgIFxuICAgICAgIyBXZWIgQXVkaW8gQVBJIG5vdCBkZXRlY3RlZFxuICAgICAgd2FybmluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkICd3YXJuaW5nMSdcbiAgICAgIHdhcm5pbmcuc3R5bGUuZGlzcGxheSA9ICdibG9jaydcbiAgICBcbiAgZHJhdzogLT5cbiAgXG4gICAgQGdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdsaWdodGVyJ1xuICBcbiAgICBmb3IgcGFydGljbGUgaW4gQHBhcnRpY2xlc1xuICAgICAgXG4gICAgICAjIHJlY3ljbGUgcGFydGljbGVzXG4gICAgICBpZiBwYXJ0aWNsZS55IDwgLXBhcnRpY2xlLnNpemUgKiBwYXJ0aWNsZS5sZXZlbCAqIHBhcnRpY2xlLnNjYWxlICogMlxuICAgICAgICBcbiAgICAgICAgcGFydGljbGUucmVzZXQoKTtcbiAgICAgICAgcGFydGljbGUueCA9IHJhbmRvbSBAd2lkdGhcbiAgICAgICAgcGFydGljbGUueSA9IEBoZWlnaHQgKyBwYXJ0aWNsZS5zaXplICogcGFydGljbGUuc2NhbGUgKiBwYXJ0aWNsZS5sZXZlbFxuICAgICAgXG4gICAgICBwYXJ0aWNsZS5tb3ZlKClcbiAgICAgIHBhcnRpY2xlLmRyYXcgQCJdfQ==
//# sourceURL=coffeescript